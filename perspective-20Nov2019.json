{"name":"Basic Enron Demo","id":"3ed6aee0-0a5b-11ea-9c87-5bf847cb126b","categories":[{"id":0,"name":"Other","color":"#6B6B6B","icon":"no-icon","labels":[],"properties":[],"hiddenLabels":[],"caption":[""]},{"id":1574119760241,"name":"Person","color":"#FFE081","icon":"DB188874-D25F-4B34-A296-E5E950072319","labels":["Person"],"properties":[{"name":"lastName","exclude":false,"isCaption":true,"dataType":"string"},{"name":"name","exclude":false,"isCaption":false,"dataType":"string"},{"name":"id","exclude":false,"isCaption":false,"dataType":"bigint"},{"name":"firstName","exclude":false,"isCaption":true,"dataType":"string"},{"name":"status","exclude":false,"isCaption":false,"dataType":"string"}],"hiddenLabels":[],"caption":[""],"createdAt":"Mon Nov 18 2019","lastEditedAt":"Mon Nov 18 2019"},{"id":1574119760258,"name":"EmailAddress","color":"#C990C0","icon":"4EDAD6B4-7166-4C40-82DD-31380DDB709D","labels":["EmailAddress"],"properties":[{"name":"domain","exclude":false,"isCaption":false,"dataType":"string"},{"name":"email","exclude":false,"isCaption":true,"dataType":"string"},{"name":"type","exclude":false,"isCaption":false,"dataType":"string"}],"hiddenLabels":[],"caption":[""],"createdAt":"Mon Nov 18 2019","lastEditedAt":"Mon Nov 18 2019"},{"id":1574119760275,"name":"Message","color":"#F79767","icon":"0CF829FF-B8AB-4252-982F-BFAA8C1BBF50","labels":["Message"],"properties":[{"name":"subject","exclude":false,"isCaption":true,"dataType":"string"},{"name":"sender","exclude":false,"isCaption":false,"dataType":"string"},{"name":"date","exclude":false,"isCaption":false,"dataType":"LocalDateTime"},{"name":"mid","exclude":false,"isCaption":false,"dataType":"bigint"},{"name":"messageId","exclude":false,"isCaption":false,"dataType":"string"},{"name":"id","exclude":false,"isCaption":false,"dataType":"bigint"},{"name":"domain","exclude":false,"isCaption":false,"dataType":"string"},{"name":"folder","exclude":false,"isCaption":false,"dataType":"string"}],"hiddenLabels":[],"caption":[""],"createdAt":"Mon Nov 18 2019","lastEditedAt":"Mon Nov 18 2019"},{"id":1574119760294,"name":"Domain","color":"#57C7E3","icon":"0AA4C651-092C-4FE8-B6AD-B208A9EFB62F","labels":["Domain"],"properties":[{"name":"tld","exclude":false,"isCaption":true,"dataType":"string"}],"hiddenLabels":[],"caption":[""],"createdAt":"Mon Nov 18 2019","lastEditedAt":"Mon Nov 18 2019"}],"palette":{"colors":["#FFE081","#C990C0","#F79767","#57C7E3","#F16667","#D9C8AE","#8DCC93","#ECB5C9","#4C8EDA","#FFC454","#DA7194","#569480"],"currentIndex":4},"createdAt":"Mon Nov 18 2019","lastEditedAt":"Mon Nov 18 2019","templates":[{"name":"Chatter about a Topic within a time range","id":"tmpl:1574261754565","createdAt":"Wed Nov 20 2019","text":"chatter about $topic between $monthStart $yearStart and $monthEnd $yearEnd","cypher":"WITH\n  CASE substring(toLower($monthStart), 0, 3)\n    WHEN 'jan' THEN 1\n    WHEN 'feb' THEN 2\n    WHEN 'mar' THEN 3\n    WHEN 'apr' THEN 4\n    WHEN 'may' THEN 5\n    WHEN 'jun' THEN 6\n    WHEN 'jul' THEN 7\n    WHEN 'aug' THEN 8\n    WHEN 'sep' THEN 9\n    WHEN 'oct' THEN 10\n    WHEN 'nov' THEN 11\n    WHEN 'dec' THEN 12\n    ELSE 1\n  END AS m_start,\n  CASE substring(toLower($monthEnd), 0, 3)\n    WHEN 'jan' THEN 1\n    WHEN 'feb' THEN 2\n    WHEN 'mar' THEN 3\n    WHEN 'apr' THEN 4\n    WHEN 'may' THEN 5\n    WHEN 'jun' THEN 6\n    WHEN 'jul' THEN 7\n    WHEN 'aug' THEN 8\n    WHEN 'sep' THEN 9\n    WHEN 'oct' THEN 10\n    WHEN 'nov' THEN 11\n    WHEN 'dec' THEN 12\n    ELSE 1\n  END AS m_end\nWITH right('20' + toString(toInteger($yearStart)), 4) AS y_start,\n     right('0' + toString(m_start), 2) AS mm_start,\n     right('20' + toString(toInteger($yearEnd)), 4) AS y_end,\n     right('0' + toString(m_end), 2) AS mm_end\n\nWITH localdatetime(y_start + '-' + mm_start + '-01T00:00:00') as dt_start,\n     localdatetime(y_end + '-' + mm_end + '-01T00:00:00') + duration('P1M') as dt_end\n\nMATCH message=(d1:Domain)<-[:BELONGS_TO]-(e1:EmailAddress)-[:SENT]->(m:Message)-[:TO|CC]->(e2:EmailAddress)-[:BELONGS_TO]->(d2:Domain)\n  WHERE d1 <> d2\n    AND dt_start <= m.date < dt_end\n    AND toLower(m.subject) CONTAINS toLower(toString($topic))\n  OPTIONAL MATCH x=(e1)-[:BELONGS_TO]->(d1)\n  OPTIONAL MATCH sender=(:Person)-[:HAS_EMAIL]->(e1)\n  OPTIONAL MATCH forward=(m)-[:NEXT*]->(next:Message)-[:SENT|TO|CC]-(e3:EmailAddress)-[:BELONGS_TO]->(:Domain)\n    WHERE dt_start <= next.date < dt_end\n  OPTIONAL MATCH backward=(:Domain)<-[:BELONGS_TO]-(e4:EmailAddress)-[:SENT|TO|CC]-(prev:Message)-[:NEXT]->(m)\n    WHERE dt_start <= prev.date < dt_end\n  OPTIONAL MATCH other=(:Person)-[:HAS_EMAIL]->(e3)\n  OPTIONAL MATCH other2=(:Person)-[:HAS_EMAIL]->(e4)\nRETURN message, sender, forward, backward, other, other2, x","params":[{"name":"$topic","suggestionLabel":null,"suggestionProp":null,"cypher":"UNWIND ['Project Stanley', 'Raptor'] AS topic RETURN topic"},{"name":"$monthStart","suggestionLabel":null,"suggestionProp":null,"cypher":"UNWIND ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'] AS month RETURN month"},{"name":"$yearStart","suggestionLabel":null,"suggestionProp":null,"cypher":"UNWIND [2000, 2001] AS year RETURN year"},{"name":"$monthEnd","suggestionLabel":null,"suggestionProp":null,"cypher":"UNWIND ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'] AS month RETURN month"},{"name":"$yearEnd","suggestionLabel":null,"suggestionProp":null,"cypher":"UNWIND [2000, 2001] AS year RETURN year"}],"hasCypherErrors":false}],"hiddenRelationshipTypes":[],"hiddenCategories":[],"hideUncategorisedData":false,"version":"1.1.3"}